Redis的所有数据都是保存在内存中，如果没有配置持久化，redistribution重启后数据就全丢失了，于是
需要重新开启redis的持久化功能，将数据保存到磁盘上，当redis重启后，可以从磁盘中回复数据，redistribution提供两种方式进行持久化，一种是RDB持久化（
原理是将Redis在内存中的数据库记录定时dump、到磁盘上的RDB持久化），另外一种是AOF（append only file）持久化（原理是将Redis的操作日志追加的方式写入文件）。
两种持久化方式的区别：
RDB持久化是指在指定的时间间隔内将内存中的数据集快照写入磁盘，实际操作过程是fork一个子进程，先将数据集写入临时文件，写入成功后，在替换之前的文件，用二进制压缩存储。
AOF持久化一日志的形式记录服务器所处理的每一个写、删除操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录。
二者优缺点：
RDB的优势：
1>一旦采用该方式，那么你得整个Redis数据库将只包含一个文件，这对于文件备份而言是非常完美的。比如，你打算每个小时归档一次最小时的数据，同时还要每天归档一次最近天的数据。通过这样 的备份策略，一旦系统出现灾难性故障，我们可以非常容易的进行回复。
RDB是手动备份，如果写入操作频繁的话，建议用RDB定时备份；
AOF是持续的进行写入记录操作，只要有写入的操作就会出发操作，性能可能会低一点，但是能提高缓存的一致性